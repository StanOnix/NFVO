= NFVO API
:doctype: book
:toc:
:sectanchors:
:sectlinks:
:toclevels: 4
:source-highlighter: highlightjs



[[resources-NetworkServiceDescriptor]]
== NetworkServiceDescriptor

=== Overview

The NSD describes deployment flavours of a Network Service.


=== Adding a NetworkServiceDescriptor

`POST` request with NSD as JSON content of the request body +
{host}/api/v1/ns-descriptors

==== Request structure

include::{snippets}/nsd-create-example/request-fields.adoc[]

==== Example request

include::{snippets}/nsd-create-example/curl-request.adoc[]

==== Example response

include::{snippets}/nsd-create-example/http-response.adoc[]



=== Retrieving all NetworkServiceDescriptors

`GET` request +
{host}/api/v1/ns-descriptors

==== Response structure

include::{snippets}/nsd-get-all-example/response-fields.adoc[]

==== Example request

include::{snippets}/nsd-get-all-example/curl-request.adoc[]

==== Example response

include::{snippets}/nsd-get-all-example/http-response.adoc[]


=== Retrieving a NetworkServiceDescriptor

`GET` request +
the id used in the url belongs to the NSD +
{host}/api/v1/ns-descriptors/{nsdId}

==== Response structure

include::{snippets}/nsd-get-example/response-fields.adoc[]

==== Example request

include::{snippets}/nsd-get-example/curl-request.adoc[]

==== Example response

include::{snippets}/nsd-get-example/http-response.adoc[]


=== Updating a NetworkServiceDescriptor

`PUT` request with updated NSD as JSON content in request body +
the id in the url belongs to the NSD to update +
{host}/api/v1/ns-descriptors/{nsdId}

==== Request structure

include::{snippets}/nsd-update-example/request-fields.adoc[]

==== Example request

include::{snippets}/nsd-update-example/curl-request.adoc[]

==== Example response

include::{snippets}/nsd-update-example/http-response.adoc[]


=== Removing a NetworkServiceDescriptor

`DELETE` request +
the id in the url belongs to the NSD to delete +
{host}/api/v1/ns-descriptors{nsdId}

==== Example request

include::{snippets}/nsd-delete-example/curl-request.adoc[]

==== Example response

include::{snippets}/nsd-delete-example/http-response.adoc[]


[[resources-VirtualNetworkFunctionDescriptor]]
== VirtualNetworkFunctionDescriptor

=== Overview

A VNF Descriptor (VNFD) is a deployment template which describes a VNF in terms of deployment and operational
behaviour requirements. The VNFD also contains connectivity and interface  requirements that can be used
to establish appropriate Virtual Links between the VirtualNetworkFunctionComponents of the VNF or from the
VNF to another one.

=== Adding a VirtualNetworkFunctionDescriptor to a NSD

`POST` request with VNFD as JSON content of the request body +
the id in the url belongs to the NSD to which the VNFD shall be added +
{host}/api/v1/ns-descriptors{nsdId}/vnfdescriptors/

==== Request structure

include::{snippets}/nsd-create-v-n-f-d-example/request-fields.adoc[]

==== Example request

include::{snippets}/nsd-create-v-n-f-d-example/curl-request.adoc[]

==== Example response

include::{snippets}/nsd-create-v-n-f-d-example/http-response.adoc[]


=== Retrieving all VirtualNetworkFunctionDescriptors

`GET` request +
the id in the url belongs to the NSD from which the VNFDs shall be retrieved +
{host}/api/v1/ns-descriptors/{nsdId}/vnfdescriptors/

==== Response structure

include::{snippets}/nsd-get-all-v-n-f-d-example/response-fields.adoc[]

==== Example request

include::{snippets}/nsd-get-all-v-n-f-d-example/curl-request.adoc[]

==== Example response

include::{snippets}/nsd-get-all-v-n-f-d-example/http-response.adoc[]


=== Retrieving a VirtualNetworkFunctionDescriptor

`GET` request +
the first id in the url belongs to the NSD that contains the VNFD +
the second id in the url belongs to the requested VNFD +
{host}/api/v1/ns-descriptors/{nsdId}/vnfdescriptors/{vnfdId}

==== Response structure

include::{snippets}/nsd-get-v-n-f-d-example/response-fields.adoc[]

==== Example request

include::{snippets}/nsd-get-v-n-f-d-example/curl-request.adoc[]

==== Example response

include::{snippets}/nsd-get-v-n-f-d-example/http-response.adoc[]


=== Updating a VirtualNetworkFunctionDescriptor

`PUT` request with updated VNFD as JSON content in request body +
the first id in the url belongs to the nsd containing the VNFD +
the second id in the url belongs to the VNFD that shall be updated +
{host}/api/v1/ns-descriptors/{nsdId}/vnfdescriptors/{vnfdId}

==== Request structure

include::{snippets}/nsd-update-v-n-f-d-example/request-fields.adoc[]

==== Example request

include::{snippets}/nsd-update-v-n-f-d-example/curl-request.adoc[]

==== Example response

include::{snippets}/nsd-update-v-n-f-d-example/http-response.adoc[]


=== Removing a VirtualNetworkFunctionDescriptor

`DELETE` request +
the first id in the url belongs to the NSD that contains the VNFD +
the secind id belongs to the VNFD to be deleted +
{host}/api/v1/ns-descriptors/{nsdId}/vnfdescriptors/{vnfdId}

==== Example request

include::{snippets}/nsd-delete-v-n-f-d-example/curl-request.adoc[]

==== Example response

include::{snippets}/nsd-delete-v-n-f-d-example/http-response.adoc[]



[[resources-NetworkServiceRecord]]
== NetworkServiceRecord

=== Overview

Please look at the specification at +
http://www.etsi.org/deliver/etsi_gs/NFV-MAN/001_099/001/01.01.01_60/gs_NFV-MAN001v010101p.pdf

=== Deploying a NetworkServiceRecord from a new NSD

`POST` request with a <<resources-NetworkServiceDescriptor,NSD>> as JSON content of the request body +
{host}/api/v1/ns-records/

==== Request structure

include::{snippets}/nsr-create-example/request-fields.adoc[]

==== Example request

include::{snippets}/nsr-create-example/curl-request.adoc[]

==== Example response

include::{snippets}/nsr-create-example/http-response.adoc[]


=== Deploying a NetworkServiceRecord from an existing NSD

`POST` request +
the id in the url belongs to the <<resources-NetworkServiceDescriptor,NSD>> from which the NSR should be created +
{host}/api/v1/ns-records/{nsdId}

==== Request structure

include::{snippets}/nsr-create-with-id-example/request-fields.adoc[]

==== Example request

include::{snippets}/nsr-create-with-id-example/curl-request.adoc[]

==== Example response

include::{snippets}/nsr-create-with-id-example/http-response.adoc[]



=== Retrieving all NetworkServiceRecords

`GET` request +
{host}/api/v1/ns-records/

==== Response structure

include::{snippets}/nsr-get-all-example/response-fields.adoc[]

==== Example request

include::{snippets}/nsr-get-all-example/curl-request.adoc[]

==== Example response

include::{snippets}/nsr-get-all-example/http-response.adoc[]



=== Retrieving a NetworkServiceRecord

`GET` request +
the id in the url belongs to the NSR that should be retrieved +
{host}/api/v1/ns-records/{nsrId}

==== Response structure

include::{snippets}/nsr-get-example/response-fields.adoc[]

==== Example request

include::{snippets}/nsr-get-example/curl-request.adoc[]

==== Example response

include::{snippets}/nsr-get-example/http-response.adoc[]



=== Updating a NetworkServiceRecord

`PUT` request with the updated NSR as JSON content in the request body +
the id in the url belongs to the NSR that shall be updated +
{host}/api/v1/ns-records/{nsrId}

==== Request structure

include::{snippets}/nsr-update-example/request-fields.adoc[]

==== Example request

include::{snippets}/nsr-update-example/curl-request.adoc[]

==== Example response

include::{snippets}/nsr-update-example/http-response.adoc[]



=== Removing a NetworkServiceRecord

A NSR can just be removed, if its state is `ACTIVE` or `ERROR`. +

`DELETE` request +
the id in the url belongs to the NSR that shall be deleted +
{host}/api/v1/ns-records/{nsrId}

==== Example request

include::{snippets}/nsr-delete-example/curl-request.adoc[]

==== Example response

include::{snippets}/nsr-delete-example/http-response.adoc[]




[[resources-VirtualNetworkFunctionRecord]]
== VirtualNetworkFunctionRecords

=== Overview

Following instantiation, a Virtualised Network Function Record
will be created to index the virtualised resources allocated to each VNF instance.

=== Retrieving all VirtualNetworkFunctionRecords from a <<resources-NetworkServiceRecord,NSR>>

`GET` request +
the id in the url belongs to the NSR from which the VNFRs shall be retrieved +
{host}/api/v1/ns-records/{nsrId}/vnfrecords

==== Response structure

include::{snippets}/nsr-get-all-vnfr-example/response-fields.adoc[]

==== Example request

include::{snippets}/nsr-get-all-vnfr-example/curl-request.adoc[]

==== Example response

include::{snippets}/nsr-get-all-vnfr-example/http-response.adoc[]


=== Retrieving a VirtualNetworkFunctionRecord from a <<resources-NetworkServiceRecord,NSR>>

`GET` request +
the first id in the url belongs to the NSR from which the VNFR shall be retrieved +
the second id in the url specifies the wanted VNFR +
{host}/api/v1/ns-records/{nsrId}/vnfrecords/{vnfrId}

==== Response structure

include::{snippets}/nsr-get-vnfr-example/response-fields.adoc[]

==== Example request

include::{snippets}/nsr-get-vnfr-example/curl-request.adoc[]

==== Example response

include::{snippets}/nsr-get-vnfr-example/http-response.adoc[]


=== Deleting a VirtualNetworkFunctionRecord from a <<resources-NetworkServiceRecord,NSR>>

`DELETE` request +
the first id in the url belongs to the NSR from which the VNFR shall be deleted +
the second id in the url speciefies the VNFR that shall be deleted +
{host}/api/v1/ns-records/{nsrId}/vnfrecords/{vnfrId}

==== Example request

include::{snippets}/nsr-delete-vnfr-example/curl-request.adoc[]

==== Example response

include::{snippets}/nsr-delete-vnfr-example/http-response.adoc[]



[[resources-VimInstance]]
== VimInstance

=== Overview

Please look at the specification at +
http://www.etsi.org/deliver/etsi_gs/NFV-MAN/001_099/001/01.01.01_60/gs_NFV-MAN001v010101p.pdf

=== Adding a VimInstance

`POST` request with a VimInstance as JSON content in the request body +
{host}/api/v1/datacenters

==== Request structure

include::{snippets}/vim-instance-create-example/request-fields.adoc[]

==== Example request

include::{snippets}/vim-instance-create-example/curl-request.adoc[]

==== Example response

include::{snippets}/vim-instance-create-example/http-response.adoc[]



=== Retrieving all VimInstances

`GET` request +
{host}/api/v1/datacenters

==== Response structure

include::{snippets}/vim-instance-get-all-example/response-fields.adoc[]

==== Example request

include::{snippets}/vim-instance-get-all-example/curl-request.adoc[]

==== Example response

include::{snippets}/vim-instance-get-all-example/http-response.adoc[]



=== Retrieving a VimInstance

`GET` request +
the id in the url belongs to the VimInstance
{host}/api/v1/datacenters/{vId} +

==== Response structure

include::{snippets}/vim-instance-get-example/response-fields.adoc[]

==== Example request

include::{snippets}/vim-instance-get-example/curl-request.adoc[]

==== Example response

include::{snippets}/vim-instance-get-example/http-response.adoc[]


=== Updating a VimInstance

`PUT` request with an updated VimInstance as JSON content in the request body +
the id in the url belongs to the VimInstance to update
{host}/api/v1/datacenters/{vId}

==== Request structure

include::{snippets}/vim-instance-update-example/request-fields.adoc[]

==== Example request

include::{snippets}/vim-instance-update-example/curl-request.adoc[]

==== Example response

include::{snippets}/vim-instance-update-example/http-response.adoc[]


=== Removing a VimInstances

`DELETE` request +
the id in the url belongs to the VimInstance that shall be deleted +
{host}/api/v1/datacenters/{vId}

==== Example request

include::{snippets}/vim-instance-delete-example/curl-request.adoc[]

==== Example response

include::{snippets}/vim-instance-delete-example/http-response.adoc[]




[[resources-VNFPackage]]
== VNFPackage

=== Overview

Please look at the specification at +
http://www.etsi.org/deliver/etsi_gs/NFV-MAN/001_099/001/01.01.01_60/gs_NFV-MAN001v010101p.pdf

=== Adding a VNFPackage

`POST` request +
the request parameter 'file' specifies an archive which is needed to instantiate a VNFPackage from it +
to get information about how this archive has to look like please read the documentation about the VNFPackage under following link (not there yet) +
{host}/api/v1/vnf-packages?file={archive}


=== Retrieving all VNFPackages

`GET` request +
{host}/api/v1/vnf-packages

==== Example request

include::{snippets}/vnfpackage-get-all-example/curl-request.adoc[]


=== Retrieving a VNFPackage

`GET` request +
the id in the request belongs to the VNFPackage +
{host}/api/v1/vnf-packages/{vnfpId}


=== Updating a VNFPackage

`PUT` request with the updated VNFPackage as a JSON object in the request body +
the id in the request belongs to the VNFPackage +
{host}/api/v1/vnf-packages/{vnfpId}



=== Removing a VNFPackage

`DELETE` request +
the id in the request belongs to the VNFPackage that shall be deleted +
{host}/api/v1/vnf-packages/{vnfpId}


== Other Components


[[components-VNFRecordDependency]]
=== VNFRecordDependency

Describe dependencies between VNFs. Defined in terms of
source and target VNF, i.e. target VNF "depends on" source
VNF.


[[components-VirtualLinkRecord]]
=== VirtualLinkRecord

A record of the resources used to implement a virtual network link


[[components-NFVImage]]
=== NFVImage

Please look at the specification at +
http://www.etsi.org/deliver/etsi_gs/NFV-MAN/001_099/001/01.01.01_60/gs_NFV-MAN001v010101p.pdf


[[components-LifecycleEvent]]
=== LifecycleEvent

Define fuctional scripts or workflows for specific
lifecycle events (e.g. initialization, termination, scaling) of a Networkservice.


[[components-VirtualNetworkFunctionManager]]
=== VirtualNetworkFunctionManager

The VNF Manager is responsible for the lifecycle management of VNF instances.


[[components-VirtualDeploymentUnit]]
=== VirtualDeploymentUnit

Please look at the specification at +
http://www.etsi.org/deliver/etsi_gs/NFV-MAN/001_099/001/01.01.01_60/gs_NFV-MAN001v010101p.pdf